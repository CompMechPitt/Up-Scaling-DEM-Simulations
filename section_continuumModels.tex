\section{Macroscale Constitutive Model}

In this section we describe the macroscale stress-strain relationship, $\dot\boldsymbol{\sigma}}^M=\dot\boldsymbol{\sigma}}^M\left(\dot{\boldsymbol{\epsilon}}}^M, \boldsymbol{\chi},\mathbf{h}\right)$, used in the validation examples. The model chosen to be complex enough to make the validation of the framework meaningful; however, we do not claim that this is the "best" macroscale model. The framework presented is quite general and the macroscale constitutive model described here can easily be replaced in particular applications by a different one. To simplify the discussion and notation in this section, the superscript "$M$" is omitted since all quantities defined describe macroscale behaviour.

A Continuum Damage Mechanics (CDM) constitutive model was chosen to represent the NFR at the macroscale. CDM is a branch of continuum mechanics that is concerned with modeling the progressive failure and stiffness degradation in solid materials. CDM in this investigation is used to help describe the micro-mechanical degradation of the rock mass due to the nucleation and growth of cracks and voids. This micro-mechanical degradation is represented in a CDM model by using macroscopic state variables to represent a spatial average of the effects of this degradation. These state variables used in this context with respect to CDM are known as damage variables. 

The damage variables in a CDM model can be described in different capacities. Often, for mathematical and physical simplicity, a single scalar damage variable is used to characterize the the state of damage in the material. In this case, the damage variable, $D$, takes a value between 0 and 1 to represent the degree of damage to the material, where $D=0$ represents a completely undamaged material (original stiffness) and $D=1$ represents a completely damaged material with no stiffness. A scalar description of damage does limit the applicability of the CDM model to an isotropically damaged state, which may not be appropriate in some circumstances. More sophisticated CDM models use 2\textsuperscript{nd} and 4\textsuperscript{th} order tensorial representations of the damage variables as well as distinguishing between compressive damage and tensile damage states in order to more accurately characterize anisotropic damage conditions. In this paper, a ductile isotropic damage formulation is prescribed using a modified Johnson-Cook damage initiation criterion and a linear stiffness degradation model.

In addition to damage, the elasto-plastic behaviour of the rock is also considered using an extended Drucker-Prager model with a linear yield criterion and a Barcelona hardening function. Models that incorporate theories of plasticity and damage mechanics in a unified approach to damage evolution and constitutive relationships are often referred to as damage-plasticity models \citep{zhang_continuum_2010}. In general, the constitutive relation for these damage-plasticity models describes the relationship between the stress, $\boldsymbol{\sigma}$, and the strain, $\boldsymbol{\epsilon}$ as a function of the damage variable, the original elastic stiffness tensor,$\mathbf{E}$, and the plastic strain, $\epsilon^{pl}_{ij}$: 

\begin{equation}
\boldsymbol{\sigma}=\left(1-D\right)\mathbf{E}:\left(\boldsymbol{\epsilon}-\boldsymbol{\epsilon}^{pl}\right)
\label{eqn:const5}
\end{equation}

where an additive decomposition of the elastic and plastic strain, $\boldsymbol{\epsilon=\boldsymbol{\epsilon}^{el}+\boldsymbol{\epsilon}^{pl}$, is assumed.

In CDM, the notion of effective stress, $\bar{\sigma}_{ij}$, becomes useful to describing the mechanics of the system as it refers to the stress that the system would be experience without damage. This effective stress can be related to the actual Cauchy stress through the scalar damage variable: $\boldsymbol{\sigma}=\left(1-D\right)\bar{\boldsymbol{\sigma}}$.

\section{Up-Scaling Methodology}
The upscaling methodology that is developed in this paper aims to emulate the constitutive response of DEM simulations within a continuum framework. This emulation is achieved though homogenization of the DEM simulations in order to get an average stress-strain response of the system. A parameterized continuum model is subsequently fit to this DEM response using a series of optimization algorithms to ultimately estimate an optimal set of parameters for the continuum model.

%in general, standard geomechanical material models tend to be elastoplastic in nature. 

In dealing with NFR, the behaviour of the rock mass is largely controlled by the discontinuities such as cleavage, cracks and fractures. If these discontinuities are sufficiently large, as is the case in NFR, one can describe the rock as being in a damaged state. From this perspective, a continuum description of NFR can be  established using Continuum Damage Mechanics (CDM). These CDM models allow for the modeling of progressive failure and stiffness degradation due to applied loads without the need for an explicit representation of the fracture network. This article aims to use up-scaling to describe the constitutive behaviour of NFR using CDM by means of homogenization and parameter estimation. 

In order for this  up-scaling method to be implemented, the CDM model has to be parameterized by identifying key parameters in the constitutive relationships that govern the behavioral response. This parameterization has to be done for each material model used, aiming to minimize the number of parameters required to describe the CDM model. 

The general upscaling methodology presented here can be summarized in three steps:
\begin{enumerate}
	\item Run RVE DEM simulations under various loading conditions.
	\item Apply homogenization algorithms to DEM results to obtain stress-strain curves.
	\item Run parameter estimation algorithms to minimize the difference between the CDM and DEM responses.
\end{enumerate}
Once the optimal parameter set for the CDM model has been identified, the newly established constitutive model can be used in a Finite Element Method (FEM) code to simulate the response of NFR at the reservoir scale.

The upscaling framework that is presented here consists of four main software components (\ref{fig:workflow}). In procedural order, the first software component involved is a DEM simulation package. In this paper, the commercial software package UDEC\textsuperscript{TM} by ITASCA\textsuperscript{TM} was chosen to run the DEM simulations. In addition to the DEM modeling, a supplementary FISH\textsupercript{TM} script was required to be written in order to export the DEM data in an appropriate format that could be read by the homogenization program. 

The next piece of software required for up-scaling is the homogenization program, which reads the data exported from the DEM simulations in order to asses the homogenized stress and strain tensors. This homogenization program was built in-house in order to implement the homogenization algorithms described in this paper. This program was wrapped to yield output data files in a format that is conducive for the parameter estimation software to read. 

The parameter estimation software is the heart of the up-scaling framework. It is this component that 